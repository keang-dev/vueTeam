define(["angular"],function(angular){"use strict";function FileSystemCheckPrompt($scope,$http,$window,prompt,$location,state,lang){$scope.diskUsage=lang(DISK_USAGE_LANG_MAP[state.current_disk_usage]).toString();var sendReboot=function(){return $http.post("/api/v2/monitor/system/os/reboot").then(angular.noop,angular.noop)};$scope.check=function(){$http.post("/api/v2/monitor/system/fsck/start").then(function(response){var results=response.data.results;1===results.ret?($scope.confirming=!1,$scope.rebooting=!0,sendReboot(),$location.path("/prompt/reboot")):$scope.error=!0})},$scope.confirm=function(){$scope.confirming=!0},$scope.skip=function(){prompt.next()}}var DISK_USAGE_LANG_MAP={wanopt:"WAN Optimization",log:"log"};return function(providers){providers.$controller.register("FileSystemCheckPrompt",FileSystemCheckPrompt)}});